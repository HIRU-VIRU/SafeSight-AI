
## 6. Violation Logic

The violation logic defines the rules and decision-making process used to determine safety non-compliance for detected workers. This component ensures that safety violations are identified consistently, transparently, and in real time based on objective criteria.

### 6.1 Definition of a Safety Violation

A safety violation is defined as the presence of a detected worker who is not wearing mandatory personal protective equipment as required by site safety regulations.

In the scope of this project, mandatory safety equipment includes:
- Safety helmet
- Safety harness (where applicable)

A violation is registered when one or more required safety items are missing for a detected worker.

### 6.2 Rule-Based Evaluation

Violation detection is implemented using rule-based logic applied to the outputs of the detection models. For each detected person, the following evaluation is performed:

- If a person is detected
- AND required safety gear is not detected within the associated spatial region
- THEN a safety violation is flagged

This deterministic approach ensures that violation decisions are explainable and auditable.

### 6.3 Spatial Association Logic

Safety gear detections are associated with individual workers using spatial analysis techniques. A safety item is considered to belong to a worker if it satisfies predefined spatial criteria such as bounding box overlap or proximity within the workerâ€™s detected region.

This association prevents incorrect attribution of safety gear between nearby workers and reduces false compliance classification.

### 6.4 Confidence Thresholding

Each detection is accompanied by a confidence score generated by the model. Confidence thresholds are applied to ensure reliable decision-making.

Thresholding principles:
- Conservative thresholds are used for missing gear detection
- False negatives are minimized to avoid overlooking violations
- Thresholds can be tuned based on site-specific requirements

### 6.5 Violation Persistence Handling

To avoid repeated logging of the same violation across consecutive frames, temporal consistency checks may be applied. A violation is confirmed only if it persists across a defined number of consecutive frames.

This approach reduces redundant alerts while preserving real-time responsiveness.

### 6.6 Violation Metadata Generation

When a violation is confirmed, a structured violation record is generated containing:

- Timestamp of detection
- Camera or zone identifier
- Type of missing safety gear
- Detection confidence
- Visual evidence reference

This metadata forms the basis for logging, alerting, and later analysis.

### 6.7 Explainability and Auditability

The rule-based nature of the violation logic ensures that every violation decision can be traced back to explicit detection outcomes and predefined rules. This transparency is essential for safety audits, compliance reporting, and system validation.

---

The violation logic provides a reliable and interpretable mechanism for enforcing safety compliance and acts as the decision core of the SafeSight AI system.
